cd dbpsports

cd backend

Ctrl + C

cd ..

.\venv\Scripts\activate

python manage.py runserver

git add .
git commit -m "Them vai tro 2 loi sua cau thu"
git push


#Cáº­p Nháº­t Dá»¯ Liá»‡u

python manage.py makemigrations
python manage.py migrate

# xoÃ¡ git
git checkout main
git pull origin main

git reset --hard 9b7fc76

#lÃ m má»›i thÃ´ng tin sever
git fetch origin
git push origin main --force-with-lease

#Lá»‡nh nÃ y sáº½ khÃ´ng kiá»ƒm tra gÃ¬ cáº£ vÃ  ghi Ä‘Ã¨ trá»±c tiáº¿p lá»‹ch sá»­ trÃªn server báº±ng lá»‹ch sá»­ á»Ÿ mÃ¡y báº¡n.
git push origin main --force




Sao lÆ°u DB + media (PowerShell)

Táº¯t server (Ctrl+C). Cháº¡y:

$ts = Get-Date -Format yyyyMMdd_HHmm
$dest = "D:\dbpsports\backups\$ts"
New-Item -ItemType Directory -Path $dest -Force | Out-Null
Copy-Item "D:\dbpsports\backend\db.sqlite3" "$dest\"
Copy-Item "D:\dbpsports\backend\media" "$dest\media" -Recurse
Compress-Archive -Path "$dest\db.sqlite3","$dest\media" -DestinationPath "D:\dbpsports\backups\dbpsports_$ts.zip"

# 1. ThÃªm táº¥t cáº£ thay Ä‘á»•i
git add .

# 2. Ghi láº¡i thay Ä‘á»•i vá»›i má»™t lá»i nháº¯n
git commit -m "Ná»™i dung cáº­p nháº­t cá»§a tÃ´i"

# 3. Äáº©y lÃªn GitHub
git push


# Cháº¡y TrÃªn Host
manage.py migrate (Äá»ƒ táº¡o cÃ¡c báº£ng trong database MySQL má»›i)

manage.py collectstatic --noinput (Äá»ƒ sá»­a lá»—i file tÄ©nh)


BÆ°á»›c: Cáº­p nháº­t Database
Sau khi cÃ³ "báº£n thiáº¿t káº¿" má»›i, chÃºng ta cáº§n cáº­p nháº­t láº¡i "cÃ´ng trÃ¬nh".

Trong Terminal, cháº¡y lá»‡nh makemigrations:

Bash

python manage.py makemigrations
Tiáº¿p theo, cháº¡y lá»‡nh migrate:

Bash

python manage.py migrate





CÃ¡ch giáº£i quyáº¿t
Báº¡n cáº§n há»£p nháº¥t cÃ¡c thay Ä‘á»•i tá»« remote vá» mÃ¡y mÃ¬nh trÆ°á»›c khi Ä‘áº©y lÃªn. CÃ³ 2 cÃ¡ch phá»• biáº¿n Ä‘á»ƒ lÃ m viá»‡c nÃ y, báº¡n chá»‰ cáº§n chá»n má»™t trong hai.

CÃ¡ch 1: DÃ¹ng rebase (Khuyáº¿n khÃ­ch)
CÃ¡ch nÃ y sáº½ giÃºp lá»‹ch sá»­ commit cá»§a báº¡n gá»n gÃ ng vÃ  tháº³ng hÃ ng hÆ¡n. NÃ³ sáº½ láº¥y 2 commit cá»§a báº¡n, táº¡m cáº¥t Ä‘i, cáº­p nháº­t cÃ¡c commit má»›i tá»« remote vá», sau Ä‘Ã³ Ä‘áº·t 2 commit cá»§a báº¡n lÃªn trÃªn cÃ¹ng.

KÃ©o code tá»« remote vá» vÃ  tá»± Ä‘á»™ng rebase:

Bash

git pull --rebase origin main
Sau khi lá»‡nh trÃªn cháº¡y xong (náº¿u khÃ´ng cÃ³ xung Ä‘á»™t/conflict), báº¡n hÃ£y Ä‘áº©y code lÃªn:

Bash

git push origin main
CÃ¡ch 2: DÃ¹ng merge (CÃ¡ch máº·c Ä‘á»‹nh)
CÃ¡ch nÃ y sáº½ táº¡o ra má»™t "merge commit" Ä‘á»ƒ gá»™p 2 nhÃ¡nh lá»‹ch sá»­ láº¡i vá»›i nhau. CÃ¡ch nÃ y Ä‘Æ¡n giáº£n nhÆ°ng sáº½ lÃ m lá»‹ch sá»­ commit cá»§a báº¡n trÃ´ng phá»©c táº¡p hÆ¡n má»™t chÃºt.

KÃ©o code tá»« remote vá» vÃ  merge:

Bash

git pull origin main
Git cÃ³ thá»ƒ sáº½ má»Ÿ trÃ¬nh soáº¡n tháº£o Ä‘á»ƒ báº¡n nháº­p commit message cho viá»‡c merge. Báº¡n chá»‰ cáº§n lÆ°u láº¡i vÃ  Ä‘Ã³ng nÃ³.

Äáº©y code lÃªn:

Bash

git push origin main
TÃ³m láº¡i, báº¡n chá»‰ cáº§n cháº¡y git pull --rebase origin main rá»“i git push origin main lÃ  Ä‘Æ°á»£c.


Client secret: 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
-------------------------------------------------

git log --oneline

CÃ¡ch 1: "NhÃ¬n trá»™m" quÃ¡ khá»© má»™t cÃ¡ch AN TOÃ€N (git checkout) ğŸ•µï¸â€â™‚ï¸
ÄÃ¢y lÃ  cÃ¡ch báº¡n nÃªn dÃ¹ng khi má»›i báº¯t Ä‘áº§u. NÃ³ cho phÃ©p báº¡n táº¡m thá»i quay vá» má»™t phiÃªn báº£n cÅ© Ä‘á»ƒ xem code, copy láº¡i má»™t Ä‘oáº¡n code Ä‘Ã£ xÃ³a... mÃ  khÃ´ng lÃ m áº£nh hÆ°á»Ÿng gÃ¬ Ä‘áº¿n hiá»‡n táº¡i.

Copy mÃ£ Ä‘á»‹nh danh cá»§a commit báº¡n muá»‘n xem láº¡i (vÃ­ dá»¥: 7331259).

Cháº¡y lá»‡nh checkout vá»›i mÃ£ Ä‘Ã³:

Bash

git checkout 7331259
Ngay láº­p tá»©c, toÃ n bá»™ cÃ¡c file trong dá»± Ã¡n cá»§a báº¡n sáº½ quay trá»Ÿ vá» Ä‘Ãºng tráº¡ng thÃ¡i á»Ÿ thá»i Ä‘iá»ƒm báº¡n táº¡o "Save Point" Ä‘Ã³. Báº¡n cÃ³ thá»ƒ má»Ÿ cÃ¡c file ra xem, cháº¡y láº¡i server Ä‘á»ƒ tháº¥y giao diá»‡n cÅ©...

Äá»ƒ quay trá»Ÿ láº¡i hiá»‡n táº¡i: Khi Ä‘Ã£ xem xong, báº¡n chá»‰ cáº§n gÃµ lá»‡nh sau Ä‘á»ƒ quay vá» phiÃªn báº£n má»›i nháº¥t:

Bash

git checkout master
CÃ¡ch 2: "Du hÃ nh thá»i gian" vÃ  XÃ“A Bá» tÆ°Æ¡ng lai (git reset) âš ï¸
Cáº£nh bÃ¡o: CÃ¡ch nÃ y Ráº¤T NGUY HIá»‚M vÃ  sáº½ XÃ“A VÄ¨NH VIá»„N táº¥t cáº£ cÃ¡c thay Ä‘á»•i báº¡n Ä‘Ã£ lÃ m sau "Save Point" Ä‘Ã³. Chá»‰ sá»­ dá»¥ng khi báº¡n cháº¯c cháº¯n 100% muá»‘n vá»©t bá» toÃ n bá»™ cÃ´ng viá»‡c Ä‘Ã£ lÃ m gáº§n Ä‘Ã¢y.

Copy mÃ£ Ä‘á»‹nh danh cá»§a commit báº¡n muá»‘n quay vá» vÃ  xÃ³a bá» má»i thá»© sau nÃ³.

Cháº¡y lá»‡nh reset --hard:

Bash

git reset --hard 7331259
Lá»‡nh nÃ y sáº½ xÃ³a vÄ©nh viá»…n commit 9cb398d ("Thiáº¿t káº¿ form...") vÃ  Ä‘Æ°a dá»± Ã¡n cá»§a báº¡n trá»Ÿ láº¡i tráº¡ng thÃ¡i cá»§a commit 7331259. KhÃ´ng cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ hoÃ n tÃ¡c láº¡i hÃ nh Ä‘á»™ng nÃ y.