{% extends 'emails/base_email.html' %}
{% load shop_filters %}

{% block title %}Cáº£m Æ¡n quÃ½ khÃ¡ch - ÄÆ¡n hÃ ng #{{ order.order_number }} - DBP Sports{% endblock %}

{% block header_subtitle %}TrÃ¢n trá»ng cáº£m Æ¡n quÃ½ khÃ¡ch{% endblock %}

{% block content %}
<div class="success-box">
    <h2>ğŸ‰ TrÃ¢n trá»ng cáº£m Æ¡n quÃ½ khÃ¡ch!</h2>
    <p>ÄÆ¡n hÃ ng #{{ order.order_number }} Ä‘Ã£ hoÃ n táº¥t</p>
</div>

<p style="font-size: 16px; color: #374151;">
    KÃ­nh gá»­i quÃ½ khÃ¡ch <strong>{{ order.customer_name }}</strong>,
</p>

<p style="color: #6b7280; line-height: 1.8;">
    NgoÃ i kia cÃ³ ráº¥t nhiá»u sá»± lá»±a chá»n cÃ³ thá»ƒ tá»‘t hÆ¡n... Cáº£m Æ¡n quÃ½ khÃ¡ch Ä‘Ã£ tin tÆ°á»Ÿng vÃ  lá»±a chá»n sáº£n pháº©m cá»§a chÃºng tÃ´i. 
    ÄÆ¡n hÃ ng <strong>{{ order.order_number }}</strong> cá»§a quÃ½ khÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c hoÃ n táº¥t.
</p>

<p style="color: #6b7280; line-height: 1.8;">
    Sá»± hÃ i lÃ²ng cá»§a quÃ½ khÃ¡ch lÃ  niá»m vinh háº¡nh vÃ  Ä‘á»™ng lá»±c Ä‘á»ƒ chÃºng tÃ´i khÃ´ng ngá»«ng phÃ¡t triá»ƒn, 
    mang Ä‘áº¿n nhá»¯ng sáº£n pháº©m vÃ  dá»‹ch vá»¥ tá»‘t nháº¥t.
</p>

<div class="info-box">
    <h3>ğŸ“¦ ThÃ´ng tin Ä‘Æ¡n hÃ ng</h3>
    <div class="info-row">
        <span class="info-label">MÃ£ Ä‘Æ¡n hÃ ng:</span>
        <span class="info-value"><strong>{{ order.order_number }}</strong></span>
    </div>
    <div class="info-row">
        <span class="info-label">NgÃ y Ä‘áº·t:</span>
        <span class="info-value">{{ order.created_at|date:"d/m/Y H:i" }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng:</span>
        <span class="info-value"><span class="status-badge">HoÃ n táº¥t</span></span>
    </div>
    <div class="info-row">
        <span class="info-label">PhÆ°Æ¡ng thá»©c thanh toÃ¡n:</span>
        <span class="info-value">{{ order.get_payment_method_display }}</span>
    </div>
</div>

<div class="info-box">
    <h3>ğŸ›ï¸ Sáº£n pháº©m</h3>
    {% for item in order.items.all %}
    <div style="border-bottom: 1px solid #e5e7eb; padding: 15px 0;">
        <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">{{ item.product.name }}</div>
        <div style="color: #6b7280; font-size: 14px;">
            Sá»‘ lÆ°á»£ng: {{ item.quantity }} Ã— {{ item.price|floatformat:0|vnd }}Ä‘ = 
            <strong>{{ item.total_price|floatformat:0|vnd }}Ä‘</strong>
        </div>
    </div>
    {% endfor %}
    
    <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #e5e7eb;">
        <div class="info-row">
            <span class="info-label">Táº¡m tÃ­nh:</span>
            <span class="info-value">{{ order.subtotal|floatformat:0|vnd }}Ä‘</span>
        </div>
        <div class="info-row">
            <span class="info-label">PhÃ­ váº­n chuyá»ƒn:</span>
            <span class="info-value">{{ order.shipping_fee|floatformat:0|vnd }}Ä‘</span>
        </div>
    </div>
    
    <div style="font-size: 22px; font-weight: bold; color: #667eea; margin-top: 15px; padding-top: 15px; border-top: 2px solid #e0e7ff; text-align: right;">
        Tá»•ng cá»™ng: {{ order.total_amount|floatformat:0|vnd }}Ä‘
    </div>
</div>

<div class="info-box">
    <h3>ğŸšš Äá»‹a chá»‰ giao hÃ ng</h3>
    <div class="info-row">
        <span class="info-label">NgÆ°á»i nháº­n:</span>
        <span class="info-value">{{ order.customer_name }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äiá»‡n thoáº¡i:</span>
        <span class="info-value">{{ order.customer_phone }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äá»‹a chá»‰:</span>
        <span class="info-value">{{ order.shipping_address }}, {{ order.shipping_district }}, {{ order.shipping_city }}</span>
    </div>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 20px; margin: 25px 0; border-radius: 8px; text-align: center;">
    <p style="margin: 0; color: #065f46; font-size: 16px; line-height: 1.8;">
        Ráº¥t mong Ä‘Æ°á»£c tiáº¿p tá»¥c phá»¥c vá»¥ quÃ½ khÃ¡ch trong tÆ°Æ¡ng lai.<br>
        ChÃºc quÃ½ khÃ¡ch luÃ´n khá»e máº¡nh vÃ  thÃ nh cÃ´ng! ğŸ†
    </p>
</div>

<p style="text-align: center; color: #6b7280; margin-top: 30px; font-size: 15px; line-height: 1.8;">
    <strong>TrÃ¢n trá»ng,</strong><br>
    <strong style="color: #667eea;">Äá»™i ngÅ© DBP Sports</strong>
</p>

<div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e5e7eb;">
    <p style="margin: 5px 0; color: #9ca3af; font-size: 14px;">
        ğŸ“ Náº¿u cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡ hotline hoáº·c email cá»§a chÃºng tÃ´i
    </p>
</div>
{% endblock %}