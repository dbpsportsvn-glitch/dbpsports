<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Xác nhận đơn hàng - DBP Sports</title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;">
    
    <h2 style="color: #dc2626; border-bottom: 2px solid #dc2626; padding-bottom: 10px;">DBP Sports - Xác nhận đơn hàng</h2>
    
    <p>Xin chào <strong>{{ order.customer_name }}</strong>,</p>
    
    <p>Cảm ơn bạn đã đặt hàng tại DBP Sports!</p>
    
    <h3 style="color: #333;">Thông tin đơn hàng:</h3>
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Mã đơn hàng:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.order_number }}</td>
        </tr>
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Ngày đặt:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.created_at|date:"d/m/Y H:i" }}</td>
        </tr>
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Phương thức thanh toán:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.get_payment_method_display }}</td>
        </tr>
        <tr style="background-color: #f8f9fa;">
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Tổng tiền:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd; color: #dc2626; font-weight: bold;">{{ order.total_amount|floatformat:0 }}đ</td>
        </tr>
    </table>
    
    <h3 style="color: #333;">Sản phẩm đã đặt:</h3>
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
        {% for item in order.orderitem_set.all %}
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ item.product.name }}</td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">x{{ item.quantity }}</td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: right; font-weight: bold;">{{ item.total_price|floatformat:0 }}đ</td>
        </tr>
        {% endfor %}
    </table>
    
    <h3 style="color: #333;">Thông tin giao hàng:</h3>
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Người nhận:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.customer_name }}</td>
        </tr>
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Số điện thoại:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.customer_phone }}</td>
        </tr>
        <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Địa chỉ:</strong></td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;">{{ order.shipping_address }}, {{ order.shipping_district }}, {{ order.shipping_city }}</td>
        </tr>
    </table>
    
    <div style="background-color: #f0f9ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <p style="margin: 0;"><strong>Bước tiếp theo:</strong></p>
        <ul style="margin: 10px 0;">
            <li>Chúng tôi sẽ xác nhận đơn hàng trong vòng 24h</li>
            <li>Bạn sẽ nhận được thông báo khi đơn hàng được xử lý</li>
            <li>Liên hệ hotline nếu có thắc mắc</li>
        </ul>
    </div>
    
    <p style="text-align: center; margin: 30px 0;">
        <a href="{{ request.scheme }}://{{ request.get_host }}/shop/orders/{{ order.id }}/" 
           style="display: inline-block; padding: 12px 30px; background-color: #dc2626; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
            Xem chi tiết đơn hàng
        </a>
    </p>
    
    <p>Cảm ơn bạn đã tin tưởng DBP Sports!</p>
    
    <p>Trân trọng,<br>
    <strong>Đội ngũ DBP Sports</strong></p>
    
    <hr style="border: none; border-top: 1px solid #ddd; margin: 30px 0;">
    
    <p style="text-align: center; color: #6c757d; font-size: 0.9rem;">
        © 2024 DBP Sports - Chuyên cung cấp dụng cụ thể thao chất lượng cao
    </p>
    
</body>
</html>
