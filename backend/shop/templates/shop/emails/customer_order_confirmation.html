{% extends 'emails/base_email.html' %}
{% load shop_filters %}

{% block title %}XÃ¡c nháº­n Ä‘Æ¡n hÃ ng #{{ order.order_number }} - DBP Sports{% endblock %}

{% block header_subtitle %}XÃ¡c nháº­n Ä‘Æ¡n hÃ ng{% endblock %}

{% block content %}
<div class="success-box">
    <h2>âœ… ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n!</h2>
    <p>Cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘áº·t hÃ ng táº¡i DBP Sports</p>
</div>

<p style="font-size: 16px; color: #374151;">
    Xin chÃ o <strong>{{ order.customer_name }}</strong>!
</p>

<p style="color: #6b7280; line-height: 1.8;">
    Cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘áº·t hÃ ng táº¡i DBP Sports. ÄÆ¡n hÃ ng cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n thÃ nh cÃ´ng! 
    ChÃºng tÃ´i sáº½ xá»­ lÃ½ vÃ  giao hÃ ng cho báº¡n trong thá»i gian sá»›m nháº¥t.
</p>

<div class="info-box">
    <h3>ğŸ“‹ ThÃ´ng tin Ä‘Æ¡n hÃ ng</h3>
    <div class="info-row">
        <span class="info-label">MÃ£ Ä‘Æ¡n hÃ ng:</span>
        <span class="info-value"><strong>{{ order.order_number }}</strong></span>
    </div>
    <div class="info-row">
        <span class="info-label">NgÃ y Ä‘áº·t:</span>
        <span class="info-value">{{ order.created_at|date:"d/m/Y H:i" }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Tráº¡ng thÃ¡i:</span>
        <span class="info-value"><span class="status-badge">{{ order.get_status_display }}</span></span>
    </div>
    <div class="info-row">
        <span class="info-label">PhÆ°Æ¡ng thá»©c thanh toÃ¡n:</span>
        <span class="info-value">{{ order.get_payment_method_display }}</span>
    </div>
</div>

<div class="info-box">
    <h3>ğŸ›ï¸ Sáº£n pháº©m Ä‘Ã£ Ä‘áº·t</h3>
    {% for item in order.items.all %}
    <div style="border-bottom: 1px solid #e5e7eb; padding: 15px 0;">
        <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">{{ item.product.name }}</div>
        <div style="color: #6b7280; font-size: 14px;">
            Sá»‘ lÆ°á»£ng: {{ item.quantity }} Ã— {{ item.price|floatformat:0|vnd }}Ä‘ = 
            <strong>{{ item.total_price|floatformat:0|vnd }}Ä‘</strong>
        </div>
    </div>
    {% endfor %}
    
    <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #e5e7eb;">
        <div class="info-row">
            <span class="info-label">PhÃ­ váº­n chuyá»ƒn:</span>
            <span class="info-value">{{ order.shipping_fee|floatformat:0|vnd }}Ä‘</span>
        </div>
    </div>
    
    <div style="font-size: 22px; font-weight: bold; color: #667eea; margin-top: 15px; padding-top: 15px; border-top: 2px solid #e0e7ff; text-align: right;">
        Tá»•ng cá»™ng: {{ order.total_amount|floatformat:0|vnd }}Ä‘
    </div>
</div>

<div class="info-box">
    <h3>ğŸšš Äá»‹a chá»‰ giao hÃ ng</h3>
    <div class="info-row">
        <span class="info-label">NgÆ°á»i nháº­n:</span>
        <span class="info-value">{{ order.customer_name }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äiá»‡n thoáº¡i:</span>
        <span class="info-value">{{ order.customer_phone }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äá»‹a chá»‰:</span>
        <span class="info-value">{{ order.shipping_address }}, {{ order.shipping_district }}, {{ order.shipping_city }}</span>
    </div>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 20px; margin: 25px 0; border-radius: 8px;">
    <p style="margin: 0; color: #065f46; font-size: 16px; line-height: 1.8;">
        <strong>ğŸ“¦ ThÃ´ng tin giao hÃ ng:</strong> ChÃºng tÃ´i sáº½ xá»­ lÃ½ vÃ  giao hÃ ng cho báº¡n trong thá»i gian sá»›m nháº¥t. 
        Náº¿u cÃ³ báº¥t ká»³ tháº¯c máº¯c nÃ o, vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i.
    </p>
</div>

<p style="text-align: center; color: #6b7280; margin-top: 30px; font-size: 15px; line-height: 1.8;">
    <strong>TrÃ¢n trá»ng,</strong><br>
    <strong style="color: #667eea;">Äá»™i ngÅ© DBP Sports</strong>
</p>
{% endblock %}

