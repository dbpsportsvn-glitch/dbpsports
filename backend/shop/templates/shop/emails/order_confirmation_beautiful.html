<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√°c nh·∫≠n ƒë∆°n h√†ng - DBP Sports</title>
    <style>
        /* Reset v√† Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }
        
        /* Container ch√≠nh */
        .email-container {
            max-width: 650px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        /* Header v·ªõi gradient */
        .email-header {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 50%, #991b1b 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .email-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .logo {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header-subtitle {
            font-size: 18px;
            opacity: 0.95;
            font-weight: 300;
        }
        
        /* Success icon */
        .success-icon {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            font-size: 36px;
            border: 3px solid rgba(255,255,255,0.3);
        }
        
        /* Content area */
        .email-content {
            padding: 40px 30px;
        }
        
        .greeting {
            font-size: 24px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 20px;
        }
        
        .thank-you {
            font-size: 16px;
            color: #6b7280;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        /* Order info card */
        .order-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .order-title {
            font-size: 20px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .order-title::before {
            content: "üìã";
            font-size: 24px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .info-item:last-child {
            border-bottom: none;
            font-weight: 700;
            color: #dc2626;
            font-size: 18px;
            background: rgba(220, 38, 38, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .info-label {
            font-weight: 600;
            color: #4b5563;
        }
        
        .info-value {
            color: #1f2937;
            font-weight: 500;
        }
        
        /* Products section */
        .products-section {
            margin: 30px 0;
        }
        
        .products-title {
            font-size: 20px;
            font-weight: 700;
            color: #059669;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .products-title::before {
            content: "üõçÔ∏è";
            font-size: 24px;
        }
        
        .product-item {
            display: flex;
            align-items: center;
            padding: 20px;
            background: white;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #f3f4f6;
            transition: transform 0.2s ease;
        }
        
        .product-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .product-image {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
            margin-right: 20px;
            border: 2px solid #f3f4f6;
        }
        
        .product-details {
            flex: 1;
        }
        
        .product-name {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .product-meta {
            display: flex;
            gap: 15px;
            color: #6b7280;
            font-size: 14px;
        }
        
        .product-price {
            font-size: 18px;
            font-weight: 700;
            color: #dc2626;
            min-width: 120px;
            text-align: right;
        }
        
        /* Shipping info */
        .shipping-section {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid #3b82f6;
        }
        
        .shipping-title {
            font-size: 20px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .shipping-title::before {
            content: "üöö";
            font-size: 24px;
        }
        
        .shipping-info {
            display: grid;
            gap: 12px;
        }
        
        .shipping-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .shipping-item:last-child {
            border-bottom: none;
        }
        
        /* Next steps */
        .next-steps {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid #22c55e;
        }
        
        .steps-title {
            font-size: 20px;
            font-weight: 700;
            color: #166534;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .steps-title::before {
            content: "üìù";
            font-size: 24px;
        }
        
        .steps-list {
            list-style: none;
            padding: 0;
        }
        
        .steps-list li {
            padding: 12px 0;
            padding-left: 35px;
            position: relative;
            color: #374151;
            line-height: 1.6;
        }
        
        .steps-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            top: 12px;
            width: 24px;
            height: 24px;
            background: #22c55e;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* CTA Button */
        .cta-section {
            text-align: center;
            margin: 40px 0;
        }
        
        .cta-button {
            display: inline-block;
            padding: 16px 32px;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
            background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
        }
        
        /* Footer */
        .email-footer {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        .footer-logo {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 15px;
            color: #f9fafb;
        }
        
        .footer-description {
            color: #d1d5db;
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .social-link {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            color: white;
            text-decoration: none;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
            color: #9ca3af;
            font-size: 14px;
        }
        
        /* Payment method specific styling */
        .payment-info {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #f59e0b;
        }
        
        .payment-note {
            color: #92400e;
            font-weight: 600;
            margin-top: 10px;
            padding: 10px;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 6px;
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .email-container {
                border-radius: 8px;
            }
            
            .email-header, .email-content, .email-footer {
                padding: 20px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .product-item {
                flex-direction: column;
                text-align: center;
            }
            
            .product-image {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .social-links {
                flex-wrap: wrap;
            }
            
            .logo {
                font-size: 24px;
            }
            
            .greeting {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="email-container">
        <!-- Header -->
        <div class="email-header">
            <div class="header-content">
                <div class="success-icon">‚úì</div>
                <div class="logo">DBP Sports</div>
                <div class="header-subtitle">ƒê·∫∑t h√†ng th√†nh c√¥ng!</div>
            </div>
        </div>

        <!-- Content -->
        <div class="email-content">
            <h1 class="greeting">Xin ch√†o {{ order.customer_name }}! üëã</h1>
            
            <p class="thank-you">
                C·∫£m ∆°n b·∫°n ƒë√£ tin t∆∞·ªüng v√† ƒë·∫∑t h√†ng t·∫°i DBP Sports! Ch√∫ng t√¥i r·∫•t vui m·ª´ng ƒë∆∞·ª£c ph·ª•c v·ª• b·∫°n. 
                ƒê∆°n h√†ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n v√† s·∫Ω ƒë∆∞·ª£c x·ª≠ l√Ω trong th·ªùi gian s·ªõm nh·∫•t.
            </p>

            <!-- Order Information -->
            <div class="order-card">
                <h2 class="order-title">Th√¥ng tin ƒë∆°n h√†ng</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">M√£ ƒë∆°n h√†ng:</span>
                        <span class="info-value">{{ order.order_number }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ng√†y ƒë·∫∑t:</span>
                        <span class="info-value">{{ order.created_at|date:"d/m/Y H:i" }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Tr·∫°ng th√°i:</span>
                        <span class="info-value">{{ order.get_status_display }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ph∆∞∆°ng th·ª©c thanh to√°n:</span>
                        <span class="info-value">{{ order.get_payment_method_display }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">T·ªïng ti·ªÅn:</span>
                        <span class="info-value">{{ order.total_amount|floatformat:0 }}ƒë</span>
                    </div>
                </div>
            </div>

            <!-- Products -->
            <div class="products-section">
                <h2 class="products-title">S·∫£n ph·∫©m ƒë√£ ƒë·∫∑t</h2>
                {% for item in order.orderitem_set.all %}
                <div class="product-item">
                    {% if item.product.main_image %}
                        <img src="{{ request.scheme }}://{{ request.get_host }}{{ item.product.main_image.url }}" 
                             alt="{{ item.product.name }}" class="product-image">
                    {% else %}
                        <div class="product-image" style="background: #f3f4f6; display: flex; align-items: center; justify-content: center; color: #9ca3af;">
                            üì¶
                        </div>
                    {% endif %}
                    <div class="product-details">
                        <div class="product-name">{{ item.product.name }}</div>
                        <div class="product-meta">
                            <span>Gi√°: {{ item.price|floatformat:0 }}ƒë</span>
                            <span>S·ªë l∆∞·ª£ng: {{ item.quantity }}</span>
                        </div>
                    </div>
                    <div class="product-price">{{ item.total_price|floatformat:0 }}ƒë</div>
                </div>
                {% endfor %}
            </div>

            <!-- Payment Information -->
            {% if order.payment_method == 'bank_transfer' or order.payment_method == 'e_wallet' %}
            <div class="payment-info">
                <strong>üí≥ Th√¥ng tin thanh to√°n:</strong>
                <div class="payment-note">
                    Vui l√≤ng chuy·ªÉn kho·∫£n theo th√¥ng tin ƒë√£ cung c·∫•p v√† upload h√≥a ƒë∆°n ƒë·ªÉ ch√∫ng t√¥i x·ª≠ l√Ω nhanh h∆°n.
                </div>
            </div>
            {% endif %}

            <!-- Shipping Information -->
            <div class="shipping-section">
                <h2 class="shipping-title">Th√¥ng tin giao h√†ng</h2>
                <div class="shipping-info">
                    <div class="shipping-item">
                        <span class="info-label">Ng∆∞·ªùi nh·∫≠n:</span>
                        <span class="info-value">{{ order.customer_name }}</span>
                    </div>
                    <div class="shipping-item">
                        <span class="info-label">S·ªë ƒëi·ªán tho·∫°i:</span>
                        <span class="info-value">{{ order.customer_phone }}</span>
                    </div>
                    <div class="shipping-item">
                        <span class="info-label">ƒê·ªãa ch·ªâ:</span>
                        <span class="info-value">{{ order.shipping_address }}, {{ order.shipping_district }}, {{ order.shipping_city }}</span>
                    </div>
                    <div class="shipping-item">
                        <span class="info-label">Ph√≠ v·∫≠n chuy·ªÉn:</span>
                        <span class="info-value">{{ order.shipping_fee|floatformat:0 }}ƒë</span>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="next-steps">
                <h2 class="steps-title">B∆∞·ªõc ti·∫øp theo</h2>
                <ul class="steps-list">
                    <li>Ch√∫ng t√¥i s·∫Ω x√°c nh·∫≠n ƒë∆°n h√†ng trong v√≤ng 24h</li>
                    <li>B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o khi ƒë∆°n h√†ng ƒë∆∞·ª£c x·ª≠ l√Ω</li>
                    <li>Theo d√µi tr·∫°ng th√°i ƒë∆°n h√†ng t·∫°i trang web</li>
                    <li>Li√™n h·ªá hotline n·∫øu c√≥ th·∫Øc m·∫Øc</li>
                </ul>
            </div>

            <!-- CTA Button -->
            <div class="cta-section">
                <a href="{{ request.scheme }}://{{ request.get_host }}/shop/orders/{{ order.id }}/" class="cta-button">
                    üì± Theo d√µi ƒë∆°n h√†ng
                </a>
            </div>

            <p style="text-align: center; margin-top: 30px; color: #6b7280; font-size: 16px;">
                M·ªôt l·∫ßn n·ªØa, c·∫£m ∆°n b·∫°n ƒë√£ tin t∆∞·ªüng DBP Sports. Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám th·ªÉ thao tuy·ªát v·ªùi! üèÜ
            </p>
        </div>

        <!-- Footer -->
        <div class="email-footer">
            <div class="footer-logo">DBP Sports</div>
            <p class="footer-description">
                Chuy√™n cung c·∫•p d·ª•ng c·ª• th·ªÉ thao ch·∫•t l∆∞·ª£ng cao v·ªõi d·ªãch v·ª• t·∫≠n t√¢m
            </p>
            
            <div class="social-links">
                <a href="#" class="social-link">üìß</a>
                <a href="#" class="social-link">üì±</a>
                <a href="#" class="social-link">üìû</a>
                <a href="#" class="social-link">üåê</a>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2024 DBP Sports. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
                <p>Email n√†y ƒë∆∞·ª£c g·ª≠i t·ª± ƒë·ªông, vui l√≤ng kh√¥ng tr·∫£ l·ªùi.</p>
            </div>
        </div>
    </div>
</body>
</html>
