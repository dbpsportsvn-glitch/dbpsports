{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="container py-4" style="max-width:520px">
  {% if token_fail %}
    <h1 class="h4 mb-3">{% trans "Invalid or expired link" %}</h1>
    <p class="text-muted">{% trans "Liên kết không hợp lệ hoặc đã hết hạn." %}</p>
  {% else %}
    <h1 class="h4 mb-3">{% trans "Set a new password" %}</h1>

    <form method="post" action="{{ action_url }}" novalidate>
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label">{% trans "New password" %}</label>
        <input type="password" name="password1"
               class="form-control {% if form.password1.errors %}is-invalid{% endif %}" required>
        {% for e in form.password1.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      </div>
      <div class="mb-3">
        <label class="form-label">{% trans "Confirm new password" %}</label>
        <input type="password" name="password2"
               class="form-control {% if form.password2.errors %}is-invalid{% endif %}" required>
        {% for e in form.password2.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      </div>
      <button type="submit" class="btn btn-primary w-100">{% trans "Change password" %}</button>
    </form>
  {% endif %}
</div>
{% endblock %}
