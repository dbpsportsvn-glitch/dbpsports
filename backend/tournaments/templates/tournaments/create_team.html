{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
    {% if is_standalone %}
        Tạo Đội bóng Mới
    {% else %}
        Đăng ký Đội
    {% endif %}
{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 600px;">
    <div class="card shadow-sm">
        <div class="card-header bg-light py-3">
            <h3 class="mb-0">
                <i class="bi bi-shield-plus text-primary"></i>
                {% if is_standalone %}
                    Tạo Đội bóng của riêng bạn
                {% else %}
                    Đăng ký đội cho giải đấu
                {% endif %}
            </h3>
        </div>
        <div class="card-body p-4">
            {% if is_standalone %}
                <p class="text-muted">Đội bóng của bạn sẽ không thuộc giải đấu nào. Bạn có thể dùng đội này để quản lý cầu thủ, tìm kèo giao hữu hoặc đăng ký tham gia các giải đấu sau này.</p>
            {% else %}
                <p class="lead">Giải đấu: <strong>{{ tournament.name }}</strong></p>
            {% endif %}
            
            <hr class="my-4">

            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        {{ form.non_field_errors|join:", " }}
                    </div>
                {% endif %}
                
                {{ form|crispy }}

                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="bi bi-check-circle-fill"></i> Hoàn tất và Tạo đội
                    </button>
                    {% if not is_standalone %}
                        <a href="{{ tournament.get_absolute_url }}" class="btn btn-secondary">Hủy bỏ</a>
                    {% else %}
                        <a href="{% url 'dashboard' %}" class="btn btn-secondary">Để sau</a>
                    {% endif %}
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}