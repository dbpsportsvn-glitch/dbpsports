<div class="table-responsive">
    {% if group_matches %}
        <h5>{% if tournament.format == 'LEAGUE' %}League{% else %}Vòng Bảng{% endif %}</h5>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Thời gian</th>
                    <th scope="col">Đội 1</th>
                    <th scope="col">Tỉ số</th>
                    <th scope="col">Đội 2</th>
                    <th scope="col">Địa điểm</th>
                </tr>
            </thead>
            <tbody>
                {% for match in group_matches %}
                    <tr style="cursor: pointer;" onclick="window.location='{% url 'match_detail' pk=match.pk %}';">
                        <td>{{ match.match_time|date:"H:i, d/m/Y" }}</td>
                        <td>{{ match.team1.name }}</td>
                        <td>
                            {# Hiện "-" chỉ khi cả hai đều None, còn lại hiển thị số với None -> 0 #}
                            {% if match.team1_score is None and match.team2_score is None %}
                                -
                            {% else %}
                                <strong>{{ match.team1_score|default_if_none:"0" }} - {{ match.team2_score|default_if_none:"0" }}</strong>
                            {% endif %}
                        </td>
                        <td>{{ match.team2.name }}</td>
                        <td>{{ match.location|default:"-" }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if knockout_matches %}
        <h5 class="mt-4">Vòng Loại Trực tiếp</h5>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Vòng</th>
                    <th scope="col">Thời gian</th>
                    <th scope="col">Đội 1</th>
                    <th scope="col">Tỉ số</th>
                    <th scope="col">Đội 2</th>
                    <th scope="col">Địa điểm</th>
                </tr>
            </thead>
            <tbody>
                {% for match in knockout_matches %}
                    <tr style="cursor: pointer;" onclick="window.location='{% url 'match_detail' pk=match.pk %}';">
                        <td><strong>{{ match.get_match_round_display }}</strong></td>
                        <td>{{ match.match_time|date:"H:i, d/m/Y" }}</td>
                        <td>{{ match.team1.name }}</td>
                        <td>
                            {% if match.team1_score is None and match.team2_score is None %}
                                -
                            {% else %}
                                <strong>{{ match.team1_score|default_if_none:"0" }} - {{ match.team2_score|default_if_none:"0" }}</strong>
                            {% endif %}
                        </td>
                        <td>{{ match.team2.name }}</td>
                        <td>{{ match.location|default:"-" }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>
