{% extends 'emails/base_email.html' %}

{% block title %}Chuyá»ƒn nhÆ°á»£ng thÃ nh cÃ´ng - DBP Sports{% endblock %}

{% block header_subtitle %}ThÃ´ng bÃ¡o tá»« thá»‹ trÆ°á»ng chuyá»ƒn nhÆ°á»£ng{% endblock %}

{% block content %}
<div class="success-box">
    <h2>ğŸ‰ Chuyá»ƒn nhÆ°á»£ng thÃ nh cÃ´ng!</h2>
    <p>Báº¡n Ä‘Ã£ gia nháº­p Ä‘á»™i {{ inviting_team.name }}</p>
</div>

<p style="font-size: 16px; color: #374151;">
    KÃ­nh gá»­i cáº§u thá»§ <strong>{{ player.full_name }}</strong>,
</p>

<p style="color: #6b7280; line-height: 1.8;">
    ChÃºc má»«ng! Báº¡n Ä‘Ã£ chÃ­nh thá»©c gia nháº­p Ä‘á»™i <strong>{{ inviting_team.name }}</strong>. 
    Chuyá»ƒn nhÆ°á»£ng Ä‘Ã£ Ä‘Æ°á»£c hoÃ n táº¥t thÃ nh cÃ´ng vÃ  báº¡n giá» Ä‘Ã¢y lÃ  thÃ nh viÃªn cá»§a Ä‘á»™i bÃ³ng nÃ y.
</p>

<div class="info-box">
    <h3>ğŸ“‹ ThÃ´ng tin chuyá»ƒn nhÆ°á»£ng</h3>
    <div class="info-row">
        <span class="info-label">Cáº§u thá»§:</span>
        <span class="info-value"><strong>{{ player.full_name }}</strong></span>
    </div>
    <div class="info-row">
        <span class="info-label">Äá»™i cÅ©:</span>
        <span class="info-value">{{ current_team.name|default:"Cáº§u thá»§ tá»± do" }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äá»™i má»›i:</span>
        <span class="info-value">{{ inviting_team.name }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Loáº¡i hÃ¬nh:</span>
        <span class="info-value">{{ transfer.get_transfer_type_display }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">GiÃ¡ trá»‹:</span>
        <span class="info-value">{{ transfer.offer_amount|floatformat:0 }}Ä‘</span>
    </div>
    {% if transfer.transfer_type == 'LOAN' and transfer.loan_end_date %}
    <div class="info-row">
        <span class="info-label">NgÃ y háº¿t háº¡n:</span>
        <span class="info-value">{{ transfer.loan_end_date|date:"d/m/Y" }}</span>
    </div>
    {% endif %}
    <div class="info-row">
        <span class="info-label">Thá»i gian hoÃ n táº¥t:</span>
        <span class="info-value">{{ "now"|date:"H:i, d/m/Y" }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Tráº¡ng thÃ¡i:</span>
        <span class="info-value"><span class="status-badge">HoÃ n táº¥t</span></span>
    </div>
</div>

<div class="info-box">
    <h3>ğŸ‘¤ ThÃ´ng tin Ä‘á»™i má»›i</h3>
    <div class="info-row">
        <span class="info-label">TÃªn Ä‘á»™i:</span>
        <span class="info-value">{{ inviting_team.name }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Äá»™i trÆ°á»Ÿng:</span>
        <span class="info-value">{{ inviting_team.captain.get_full_name|default:inviting_team.captain.username }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Sá»‘ Ã¡o cá»§a báº¡n:</span>
        <span class="info-value">{{ player.jersey_number }}</span>
    </div>
    <div class="info-row">
        <span class="info-label">Vá»‹ trÃ­:</span>
        <span class="info-value">{{ player.get_position_display }}</span>
    </div>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 20px; margin: 25px 0; border-radius: 8px;">
    <p style="margin: 0; color: #065f46; font-size: 16px; line-height: 1.8;">
        <strong>ğŸ‰ Chuyá»ƒn nhÆ°á»£ng thÃ nh cÃ´ng:</strong> Báº¡n Ä‘Ã£ chÃ­nh thá»©c trá»Ÿ thÃ nh thÃ nh viÃªn cá»§a Ä‘á»™i {{ inviting_team.name }}. 
        HÃ£y chuáº©n bá»‹ cho nhá»¯ng tráº­n Ä‘áº¥u sáº¯p tá»›i!
    </p>
</div>

<div class="info-box">
    <h3>ğŸ“… Nhá»¯ng gÃ¬ sáº½ diá»…n ra tiáº¿p theo</h3>
    <div style="background: #f8fafc; padding: 15px; border-radius: 6px;">
        <p style="margin: 0 0 10px 0; color: #374151;">
            <strong>â€¢</strong> Báº¡n sáº½ xuáº¥t hiá»‡n trong Ä‘á»™i hÃ¬nh cá»§a {{ inviting_team.name }}<br>
            <strong>â€¢</strong> Äá»™i trÆ°á»Ÿng cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh báº¡n vÃ o cÃ¡c tráº­n Ä‘áº¥u<br>
            <strong>â€¢</strong> Báº¡n sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o vá» lá»‹ch thi Ä‘áº¥u<br>
            <strong>â€¢</strong> Lá»‹ch sá»­ chuyá»ƒn nhÆ°á»£ng Ä‘Æ°á»£c ghi nháº­n<br>
            {% if transfer.transfer_type == 'LOAN' %}
            <strong>â€¢</strong> Há»£p Ä‘á»“ng cho mÆ°á»£n sáº½ tá»± Ä‘á»™ng káº¿t thÃºc vÃ o {{ transfer.loan_end_date|date:"d/m/Y" }}
            {% endif %}
        </p>
    </div>
</div>

<div style="text-align: center; margin: 30px 0;">
    <a href="http://localhost:8000/teams/{{ inviting_team.id }}/" class="action-button">
        ğŸ”— Xem thÃ´ng tin Ä‘á»™i
    </a>
</div>

<div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 20px; margin: 25px 0; border-radius: 8px;">
    <p style="margin: 0; color: #92400e; font-size: 16px; line-height: 1.8;">
        <strong>ğŸ’¡ LÆ°u Ã½:</strong> Báº¡n giá» Ä‘Ã¢y lÃ  thÃ nh viÃªn cá»§a {{ inviting_team.name }} vÃ  khÃ´ng thá»ƒ thi Ä‘áº¥u cho Ä‘á»™i khÃ¡c ná»¯a. 
        {% if transfer.transfer_type == 'LOAN' %}
        Sau khi há»£p Ä‘á»“ng cho mÆ°á»£n káº¿t thÃºc, báº¡n cÃ³ thá»ƒ quay vá» tráº¡ng thÃ¡i cáº§u thá»§ tá»± do.
        {% else %}
        ÄÃ¢y lÃ  chuyá»ƒn nhÆ°á»£ng vÄ©nh viá»…n.
        {% endif %}
    </p>
</div>

<p style="text-align: center; color: #6b7280; margin-top: 30px; font-size: 15px; line-height: 1.8;">
    <strong>TrÃ¢n trá»ng,</strong><br>
    <strong style="color: #667eea;">Há»‡ thá»‘ng DBP Sports</strong>
</p>
{% endblock %}
